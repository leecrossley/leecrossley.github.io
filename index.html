<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>iLee | developer blog</title>
  <meta name="author" content="Lee Crossley">
  <meta name="description" content="I write code that sounds awesome and music that's bug free">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta property="og:site_name" content="iLee"/>
  <meta property="og:image" content="http://www.gravatar.com/avatar/57e15d6acbd5f46c300a83b5e61db1de?s=200"/>
  <link rel="alternate" href="/atom.xml" title="iLee" type="application/atom+xml">
  <link rel="shortcut icon" href="/img/ilee.ico">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-42989646-1', 'ilee.co.uk');
    ga('send', 'pageview');
  </script>

</head>


<body>
  <div id="content" class="inner">
    <div id="sidebar" class="alignleft"><header class="logo">
  <h1>
    <a href="/">iLee</a>
    <span>I write code that sounds awesome and music that's bug free</span>
  </h1>
</header>

<ul class="social">
  <li class="facebook">
    <a href="https://www.facebook.com/lee.crossley" target="_blank" class="icon"><i class="icon-facebook"></i></a>
  </li>
  <li class="twitter">
    <a href="https://twitter.com/lee_crossley" target="_blank" class="icon"><i class="icon-twitter"></i></a>
  </li>
  <li class="github">
    <a href="https://github.com/leecrossley" target="_blank" class="icon"><i class="icon-github"></i></a>
  </li>
  <li class="google-plus">
    <a href="https://plus.google.com/100605644656941447412?rel=author" target="_blank" class="icon"><i class="icon-google-plus"></i></a>
  </li>
  <li class="linkedin">
    <a href="http://uk.linkedin.com/in/leecrossley/" target="_blank" class="icon"><i class="icon-linkedin"></i></a>
  </li>
</ul>


  <div class="widget tag">
<ul class="entry">
  
    <li><a href="/">Home</a></li>
  
    <li><a href="/about-me">About Me</a></li>
  
    <li><a href="/archives">Archives</a></li>
  
</ul>
</div>

  
<div class="widget tag">
  <h3 class="title">Recent Posts</h3>
  <ul class="entry">
    
      <li>
        <a href="/yet-another-hackathon-victory/">Yet Another Hackathon Victory</a>
      </li>
    
      <li>
        <a href="/add-structured-data-to-your-blog/">Add Structured Data to Your Blog</a>
      </li>
    
      <li>
        <a href="/finding-cordova-plugins-for-your-apps/">Finding Cordova Plugins for Your Apps</a>
      </li>
    
      <li>
        <a href="/use-the-right-http-status-codes/">Use the Right HTTP Status Codes</a>
      </li>
    
      <li>
        <a href="/git-commit-message-format/">Git Commit Message Format</a>
      </li>
    
      <li>
        <a href="/which-mobile-app-platform-first/">Which Mobile App Platform First?</a>
      </li>
    
      <li>
        <a href="/hack-to-prevent-json-hijacking/">Hack to Prevent JSON Hijacking</a>
      </li>
    
      <li>
        <a href="/determine-if-a-javascript-object-is-numeric/">The JavaScript IsNumeric Function</a>
      </li>
    
      <li>
        <a href="/my-shiny-new-iphone-5s/">My Shiny New iPhone 5s</a>
      </li>
    
      <li>
        <a href="/ios7-navigation-bar-using-css/">iOS7 Navigation Bar Using CSS</a>
      </li>
    
  </ul>
</div>


  

  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/android/">android</a><small>4</small></li>
  
    <li><a href="/tags/app/">app</a><small>8</small></li>
  
    <li><a href="/tags/design/">design</a><small>1</small></li>
  
    <li><a href="/tags/git/">git</a><small>1</small></li>
  
    <li><a href="/tags/hack/">hack</a><small>3</small></li>
  
    <li><a href="/tags/html/">html</a><small>5</small></li>
  
    <li><a href="/tags/iphone/">iphone</a><small>9</small></li>
  
    <li><a href="/tags/javascript/">javascript</a><small>19</small></li>
  
    <li><a href="/tags/phonegap/">phonegap</a><small>7</small></li>
  
    <li><a href="/tags/web/">web</a><small>18</small></li>
  
  </ul>
</div>

</div>
    <div id="main-col" class="alignright"><div id="wrapper">
  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      <div class="icon"></div>
      
        <time datetime="2013-10-29T11:35:50.000Z" itemprop="datePublished">29th Oct 2013</time>
      
      
  
    <h1 class="title" itemprop="name headline"><a href="/yet-another-hackathon-victory/" itemprop="url">Yet Another Hackathon Victory</a></h1>
  

    </header>
    <div class="entry" itemprop="articleBody">
      
        <h2>Hack Manchester</h2>
<p><a href="http://www.hackmanchester.com/" target="_blank">Hack Manchester</a> is the premier 24-hour coding competition based in Manchester, ran by <a href="https://twitter.com/ruby_gem" target="_blank">@ruby_gem</a> and <a href="https://twitter.com/theallseeingpie" target="_blank">@theallseeingpie</a> (with help from others). This year (as before) it was held at the <a href="http://www.mosi.org.uk/" target="_blank">Museum of Science and Industry</a> on the 26th and 27th of October 2013 as part of <a href="http://www.manchestersciencefestival.com/" target="_blank">Manchester Science Festival</a>.</p>
<h2>We won again!</h2>
<p>I blogged a few weeks ago (<a href="/road-to-hack-manchester">the road to Hack Manchester</a>) about winning back in 2012 and what it takes to win based on the lessons we learnt. Looks like it was good advice because <strong>WE&#39;VE GONE AND DONE IT AGAIN!</strong> Amazing job from my team mates <a href="https://twitter.com/edhiley" target="_blank">@edhiley</a> and <a href="https://twitter.com/ryansroberts" target="_blank">@ryansroberts</a>. This give me a crazy record of 3 hack events and 3 wins.</p>
<h2>The challenge</h2>
<p>The challenge (sponsored by <a href="https://twitter.com/WebAppUK" target="_blank">Web Applications UK</a> was to write a game. More specifically, to write a browser-based game with a travel theme.</p>
<p>For anyone that doesn‘t know what a browser is (there seem to be quite a few), it’s a computer program with a graphical user interface for displaying HTML files. So, we came up with a travel themed game (written in HTML / CSS / JavaScript for both the <a href="https://github.com/leecrossley/appsassin/tree/master/client/www" target="_blank">mobile clients</a> and server). Nothing to dispute there.</p>
<p>Anyway, here is the more detailed brief we were given:</p>
<blockquote><p>We&#39;re looking for the most entertaining and damn right addictive game you can muster. Have fun with it and create something great. The most original idea, with the best use of the travel theme and some impressive features thrown in will bag the prize…</p>
<footer><strong>- Web Applications UK</strong></footer></blockquote>


<h2>“Appsassin”</h2>
<p>Our concept was to assassinate other players with your mobile phone (we supported Android and iOS, but it also probably works on Windows Phone and BlackBerry, with it being browser based), hence the comical name “appsassin” and url “appsass.in” :)</p>
<h3>The game</h3>
<h4>Signup</h4>
<ul>
<li>You signup by entering your mobile number and taking / uploading a picture of your face</li>
<li>A game is set up on the game server by a moderator</li>
<li>Registered players can enter a game if there are in the local vicinity</li>
</ul>
<h4>Playing</h4>
<ul>
<li>You are assigned a target (another player in the game)</li>
<li>You can track your targets location (in realtime) via a map</li>
<li>Txt messages are sent when you are within 100 meters of your target</li>
<li>Txt messages are sent when the player after you is within 100 meters of you</li>
<li>You “kill” your target by taking a picture of their face (and it passing facial recognition)</li>
<li>If you kill a target, you get their target</li>
<li>The winner is the last one standing</li>
</ul>
<h3>The tech</h3>
<ul>
<li>Node.js</li>
<li>HTML / CSS / JavaScript</li>
<li>Cordova</li>
<li>Lambda Labs facial recognition</li>
<li>OpenLayers / OpenStreetMap</li>
<li>Clockwork SMS</li>
</ul>
<p>All the source code for the hack day code is available on <a href="https://github.com/leecrossley/appsassin" target="_blank">github</a>, let me know if you&#39;d like me to go into detail on any of the aspects.</p>
<h2>What next?</h2>
<p>We&#39;re planning to release a new version of Appsassin for public consumption. Until then, you can <a href="https://vimeo.com/77907408" target="_blank">watch our video of us playing it</a> (professionally produced by team member <a href="https://twitter.com/edhiley" target="_blank">@edhiley</a>, including the music).</p>
<h2>Thanks</h2>
<p>A special thanks again to all the sponsors of the event and everyone involved in the organising and running. A huge success, again.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      <div class="icon"></div>
      
        <time datetime="2013-10-25T09:45:35.000Z" itemprop="datePublished">25th Oct 2013</time>
      
      
  
    <h1 class="title" itemprop="name headline"><a href="/add-structured-data-to-your-blog/" itemprop="url">Add Structured Data to Your Blog</a></h1>
  

    </header>
    <div class="entry" itemprop="articleBody">
      
        <h2>Structured data</h2>
<p>You&#39;ve probably heard of Structured Data, it comes in several different formats, microdata, microformats, RDFa / RDFa Lite but Google are now officially recommending that you use the microdata format.</p>
<p>By using Structured Data, you&#39;re allowing search engines and bots to produce “Rich Snippets” from your data, as the structure and semantic meaning is defined.</p>
<h3>Microdata</h3>
<p>If you want to upset yourself, you can lose a few days reading the <a href="http://www.w3.org/html/wg/drafts/microdata/master/" target="_blank">W3C HTML Microdata Draft</a>, or you can just carry on reading and I&#39;ll show you how simple it really is.</p>
<h2>This blog</h2>
<p>Let‘s take this blog as an example. I’ve followed the Schema.org <a href="http://schema.org/BlogPosting" target="_blank">BlogPosting</a> schema to enrich each blog post with microdata. This enables search engines to understand the structure of the blog post and what the data actually means.</p>
<figure class="highlight lang-html"><figcaption><span>Without microdata </span></figcaption><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="code"><pre><span class="tag">&lt;<span class="title">article</span> <span class="attribute">class</span>=<span class="value">"post"</span>&gt;</span>
    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"post-content"</span>&gt;</span>
        <span class="tag">&lt;<span class="title">header</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"icon"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
            <span class="tag">&lt;<span class="title">time</span> <span class="attribute">datetime</span>=<span class="value">"2013-10-25T09:45:35.000Z"</span>&gt;</span>25th Oct 2013<span class="tag">&lt;/<span class="title">time</span>&gt;</span>
            <span class="tag">&lt;<span class="title">h1</span> <span class="attribute">class</span>=<span class="value">"title"</span>&gt;</span>Add Structured Data to Your Blog<span class="tag">&lt;/<span class="title">h1</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">header</span>&gt;</span>
        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"entry"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">h2</span>&gt;</span>Structured data<span class="tag">&lt;/<span class="title">h2</span>&gt;</span>
            ...
        <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
<span class="tag">&lt;/<span class="title">article</span>&gt;</span>
</pre></td></tr></table></figure>

<figure class="highlight lang-html"><figcaption><span>With microdata </span></figcaption><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="code"><pre><span class="tag">&lt;<span class="title">article</span> <span class="attribute">class</span>=<span class="value">"post"</span> <span class="attribute">itemscope</span> <span class="attribute">itemtype</span>=<span class="value">"http://schema.org/BlogPosting"</span>&gt;</span>
    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"post-content"</span>&gt;</span>
        <span class="tag">&lt;<span class="title">header</span>&gt;</span>
            <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"icon"</span>&gt;</span><span class="tag">&lt;/<span class="title">div</span>&gt;</span>
            <span class="tag">&lt;<span class="title">time</span> <span class="attribute">datetime</span>=<span class="value">"2013-10-25T09:45:35.000Z"</span> <span class="attribute">itemprop</span>=<span class="value">"datePublished"</span>&gt;</span>25th Oct 2013<span class="tag">&lt;/<span class="title">time</span>&gt;</span>
            <span class="tag">&lt;<span class="title">h1</span> <span class="attribute">class</span>=<span class="value">"title"</span> <span class="attribute">itemprop</span>=<span class="value">"name headline"</span>&gt;</span>Add Structured Data to Your Blog<span class="tag">&lt;/<span class="title">h1</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">header</span>&gt;</span>
        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">class</span>=<span class="value">"entry"</span> <span class="attribute">itemprop</span>=<span class="value">"articleBody"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">h2</span>&gt;</span>Structured data<span class="tag">&lt;/<span class="title">h2</span>&gt;</span>
            ...
        <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">div</span>&gt;</span>
<span class="tag">&lt;/<span class="title">article</span>&gt;</span>
</pre></td></tr></table></figure>


<p>There are 2 main differences:</p>
<ul>
<li>I have added <em>itemscope</em> and <em>itemtype</em> attributes to the top level article element, which allows bots to understand that I‘m writing a blog post and that I’m following the Schema.org standard.</li>
<li>I have added various <em>itemprop</em> attributes to certain elements within the article. This allows bots to understand which element relates to which property from Schema.org. <strong>Please note</strong>, you don&#39;t need to use every property on Schema.org(!), just pick what is appropriate to your content.</li>
</ul>
<h2>Testing</h2>
<p>You‘ll want to ensure that what you’ve done is right. Fortunately, Google have a free <a href="http://www.google.com/webmasters/tools/richsnippets" target="_blank">Rich Snippets testing tool</a>. You can see the results for this blog <a href="http://www.google.com/webmasters/tools/richsnippets?q=ilee.co.uk" target="_blank">here</a>. You should also double check that your HTML is still valid using the <a href="http://validator.w3.org/" target="_blank">W3C Validator</a>.</p>
<p><strong>There will be a day when you ALWAYS use structured data, make that day today.</strong></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      <div class="icon"></div>
      
        <time datetime="2013-10-24T07:50:38.000Z" itemprop="datePublished">24th Oct 2013</time>
      
      
  
    <h1 class="title" itemprop="name headline"><a href="/finding-cordova-plugins-for-your-apps/" itemprop="url">Finding Cordova Plugins for Your Apps</a></h1>
  

    </header>
    <div class="entry" itemprop="articleBody">
      
        <h2>PlugReg</h2>
<p>2 months ago, <a href="http://ilee.co.uk/plugin-registry-for-cordova-phonegap/">I wrote about</a> my new plugin registry, <a href="http://www.plugreg.com/" target="_blank">PlugReg</a>. It now boasts about 200 different plugins from over 100 authors. I&#39;ve taken some feedback on board and implemented a new feature to help you find the plugins you need for your apps.</p>
<h3>What&#39;s changed</h3>
<p>Some of the new features and bug fixes:</p>
<ul>
<li><strong>Platform Filters</strong>. You can now filter your search results, or all plugins by platform</li>
<li><strong>Logo</strong>. Shiny new logo</li>
<li><strong>Ordering</strong>. Fixed issues with ordering due to case issues</li>
</ul>
<p>I fixed the ordering by doing:</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
</pre></td><td class="code"><pre><span class="function"><span class="keyword">function</span> <span class="title">byCase</span><span class="params">(a, b)</span>{</span>
    <span class="keyword">return</span> a.name.toLowerCase().localeCompare(b.name.toLowerCase());
}

...

plugins.sort(byCase);
</pre></td></tr></table></figure>

<p>Does anyone know a better way of doing this with mongodb / mongoose?</p>
<h2>Suggestions</h2>
<p>Please keep the suggestions coming, I‘m keen to push forward with new features and improvements. Add your own plugins or any plugins you have used if you haven’t already.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      <div class="icon"></div>
      
        <time datetime="2013-10-15T14:39:29.000Z" itemprop="datePublished">15th Oct 2013</time>
      
      
  
    <h1 class="title" itemprop="name headline"><a href="/use-the-right-http-status-codes/" itemprop="url">Use the Right HTTP Status Codes</a></h1>
  

    </header>
    <div class="entry" itemprop="articleBody">
      
        <h2>HTTP status codes</h2>
<p>Every response from a server carries an HTTP status code, this provides clients with the ability to formally identify the status of the response and has other uses, such as identifying a type of error.</p>
<p>I&#39;m currently working with a &quot;<a href="http://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank">RESTful</a>&quot; (well, advertised as RESTful) <a href="http://en.wikipedia.org/wiki/Application_programming_interface" target="_blank">API</a>, where the HTTP status codes are all over the place (hence the reason for this blog post).</p>
<p>An API especially should use the correct status codes so that responses to basic requests can be defined by status codes, without the need for any additional data.</p>
<h2>The basics</h2>
<ul>
<li><strong>1xx</strong> - Hang on</li>
<li><strong>2xx</strong> - <a href="http://www.youtube.com/watch?v=erETKfL9LbU" target="_blank">Sha-ting</a></li>
<li><strong>3xx</strong> - Move away</li>
<li><strong>4xx</strong> - That&#39;s your bad</li>
<li><strong>5xx</strong> - That&#39;s my bad</li>
</ul>
<p>OK, so I‘m not being totally serious with these. I’m also not going to write them out or copy and paste, as there are 1000s of websites that already have. Just check <a href="http://en.wikipedia.org/wiki/List_of_HTTP_status_codes" target="_blank">Wikipedia</a> for the list.</p>
<h2>Test your status codes</h2>
<p>There are some online tools to check your status codes, <a href="http://httpstatus.io/" target="_blank">httpstatus.io</a> looks good (and ends with .io, so it <em>must</em> be cool).</p>
<h2>I&#39;m a tea pot</h2>
<p>The Hyper Text Coffee Pot Control Protocol is a nonessential and humorous communications protocol for controlling, monitoring, and diagnosing coffee pots and has the following status code (yes this is real):</p>
<ul>
<li><strong>418</strong> I&#39;m a teapot (may be short and/or stout)</li>
</ul>
<p>Time for a coffee.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      <div class="icon"></div>
      
        <time datetime="2013-10-10T08:51:33.000Z" itemprop="datePublished">10th Oct 2013</time>
      
      
  
    <h1 class="title" itemprop="name headline"><a href="/git-commit-message-format/" itemprop="url">Git Commit Message Format</a></h1>
  

    </header>
    <div class="entry" itemprop="articleBody">
      
        <h2>Format frustration</h2>
<p>I recently read a short <em>pro tip</em> by <a href="https://twitter.com/simonowendesign" target="_blank">Simon Owen</a> on coderwall about commit messages (<a href="https://coderwall.com/p/pnk0ra" target="_blank">see here</a>). It turns out it&#39;s not just me that gets frustrated with incorrectly formatted git commit messages, especially if you pull request or are working on one of my repositories.</p>
<p>Please read this before you do another git commit. There is a right way and a wrong way to write your git commit messages.</p>
<h2>The right way</h2>
<p>Follow these simple guideline(s):</p>
<ul>
<li>Stick to a maximum of 50 characters for the summary to briefly describe the commit</li>
<li>Capitalise the first letter</li>
<li>Write in the imperative (e.g. “Fix bug” or “Add file” not “Fixed bug” or “Added file”)</li>
<li>Don&#39;t end with a full stop</li>
<li>Reference issue numbers with a #</li>
</ul>
<p>Optional:</p>
<ul>
<li>If used, wrap the descriptive body to 72 chars with a blank line above it (I rarely go beyond a summary in practice)</li>
<li>Prefix with “area: ” where the area is an identifier for the area of the code the commit relates to (personally I don&#39;t do this but it can be useful in some circumstances)</li>
</ul>
<h2>Why?</h2>
<p>Following the guidelines will make it easier for you to review and identify commits (especially with git log, which has no raw wrapping) and it also makes it easier for your fellow developers to work with you.</p>
<p>If you take a look at auto generated git messages, you&#39;ll see they conform to the above guidelines (e.g. git merge or git revert).</p>
<h2>Automated user git messages</h2>
<p>Bad bad bad. You‘re not adding any value by doing this. You can always alias if you don’t want to type git commit -m.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      <div class="icon"></div>
      
        <time datetime="2013-10-03T16:10:34.000Z" itemprop="datePublished">3rd Oct 2013</time>
      
      
  
    <h1 class="title" itemprop="name headline"><a href="/which-mobile-app-platform-first/" itemprop="url">Which Mobile App Platform First?</a></h1>
  

    </header>
    <div class="entry" itemprop="articleBody">
      
        <h2>Developing apps for iOS first</h2>
<p>A <a href="https://twitter.com/VickiHigham" target="_blank">friend</a> today asked me a very interesting question:</p>
<blockquote><p>“Can you see a reason people would launch on iOS first?” … “they don&#39;t have the biggest market share”</p>
<footer><strong>- @VickiHigham</strong></footer></blockquote>


<p><img src="/img/app-platforms.png" alt="Mobile App Platforms"></p>
<p>This got me thinking. Yes, it&#39;s true that there are many more Android devices than iOS devices (both mobile and tablets) in circulation. In terms of app downloads and more importantly revenue generated from paid apps and in app purchases, iOS has always been a clear winner in my experience (more than 10x), meaning that iOS is the most lucrative app market.</p>
<p>I&#39;ve generally released iOS apps first, probably because of higher volume of grossing apps. </p>
<h3>The curveball</h3>
<p>In reality, it doesn‘t actually doesn’t make sense to develop for iOS first if you‘re going to be targeting multiple platforms (especially if you’re using something like Cordova / PhoneGap)… let me convince you why.</p>
<h2>Developing apps for Android first</h2>
<h3>It&#39;s all about the review process</h3>
<p>iOS apps have to go through the cumbersome <a href="https://developer.apple.com/appstore/guidelines.html" target="_blank">Apple review process</a>, meaning delays of up to 2 weeks (or sometimes longer), where you can&#39;t make any changes to your app or have anyone using it. Subsequent releases also have to  go through the review process, meaning bug fixes take longer to reach customers. Windows Phone has a similar review process.</p>
<p>If you were to develop apps for Android first, because of the fast release process there would be a raft of benefits:</p>
<ul>
<li>The app could potentially be released quicker</li>
<li>Bugs can be fixed and released quicker</li>
<li>A more robust version could then be released to iOS</li>
</ul>
<h2>Other considerations</h2>
<p>Of course, there are other considerations, such as target location, device capabilities etc but we should be at least questioning the “iOS First” approach that seems to have become the default.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      <div class="icon"></div>
      
        <time datetime="2013-10-02T16:32:24.000Z" itemprop="datePublished">2nd Oct 2013</time>
      
      
  
    <h1 class="title" itemprop="name headline"><a href="/hack-to-prevent-json-hijacking/" itemprop="url">Hack to Prevent JSON Hijacking</a></h1>
  

    </header>
    <div class="entry" itemprop="articleBody">
      
        <h2>JSON hijacking</h2>
<p>I recently needed to ensure a JSON service response couldn&#39;t be misused via external <a href="http://haacked.com/archive/2009/06/25/json-hijacking.aspx" target="_blank">JSON hijacking</a>. This is a very common problem, especially in older browsers. Fortunately, there&#39;s a nice little hack to prevent the hijack.</p>
<p>Microsoft, Google, Facebook etc are all using variations of this to allow AJAX requests on their (same) domain to have full access, while preventing hijacking by others.</p>
<h2>The hack</h2>
<p>Force requests not to use JSONP and allow the Same Origin Policy to do it&#39;s job, by adding a simple (and evil) endless loop to the start of a JSON response:</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre><span class="keyword">while</span>(<span class="number">1</span>);
</pre></td></tr></table></figure>

<p>Because you aren&#39;t using a JSONP request, you have the ability to modify the response, e.g.</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>JSON.parse(<span class="keyword">this</span>.responseText.slice(<span class="string">"while(1);"</span>.length));
</pre></td></tr></table></figure>

<p>Whereas illegitimate users will find themselves sucked into a black hole.</p>
<p>Facebook use a similar variation to achieve the same result:</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre><span class="keyword">for</span>(;;);
</pre></td></tr></table></figure>

<p>Personally, I&#39;d like to lead the JSON response with the throwing of an error message :)</p>
<figure class="highlight lang-javascript"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre><span class="keyword">throw</span> <span class="string">"JSON THIEF"</span>;
</pre></td></tr></table></figure>

<h2>Limitations</h2>
<p>Using this quick and easy hack means you don&#39;t need to mess around storing and managing CSRF (cross-site request forgery) tokens. <strong>Winning</strong>. It‘s not however a solution for cross-site request forgery itself. Maybe I’ll cover that on another, less sunny day.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      <div class="icon"></div>
      
        <time datetime="2013-09-26T16:16:00.000Z" itemprop="datePublished">26th Sep 2013</time>
      
      
  
    <h1 class="title" itemprop="name headline"><a href="/determine-if-a-javascript-object-is-numeric/" itemprop="url">The JavaScript IsNumeric Function</a></h1>
  

    </header>
    <div class="entry" itemprop="articleBody">
      
        <h2>isNumeric</h2>
<p>Today I wrote a (very small) node package to allow you to determine if a JavaScript object is numeric or not. It turns out it‘s really not a lot of code, but took a little while to get just right. It’s tested with every type of numeric I could think up (and also non-numerics).</p>
<h3>Using npm</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre><span class="title">npm</span> install isnumeric
</pre></td></tr></table></figure>

<p>To then include isnumeric in your node app:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre><span class="keyword">var</span> isNumeric = <span class="keyword">require</span>(<span class="string">"isnumeric"</span>);
</pre></td></tr></table></figure>

<h3>Direct dependency</h3>
<p>Download the minified version <a href="http://bit.ly/isnumeric" target="_blank">here</a>, reference the js file and isNumeric will become a global variable.</p>
<h2>The code</h2>
<p>Essentially, this is it:</p>
<figure class="highlight lang-javascript"><figcaption><span>isNumeric </span></figcaption><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre><span class="keyword">var</span> isNumeric = <span class="function"><span class="keyword">function</span> <span class="params">(obj)</span> {</span>
    obj = <span class="keyword">typeof</span>(obj) === <span class="string">"string"</span> ? obj.replace(<span class="string">","</span>, <span class="string">"."</span>) : obj;
    <span class="keyword">return</span> !isNaN(parseFloat(obj)) &amp;&amp; isFinite(obj) &amp;&amp; Object.prototype.toString.call(obj).toLowerCase() !== <span class="string">"[object array]"</span>;
};
</pre></td></tr></table></figure>


<p>The first line of the function could be omitted if you weren&#39;t concerned with supporting comma decimals (e.g. “1,1”) like in some countries.</p>
<h2>The tests</h2>
<p>There are currently <a href="https://github.com/leecrossley/isNumeric/blob/master/spec.js" target="_blank">64 tests</a>! so it&#39;s pretty well tested. I certainly win the award for smallest amount of code with most amount of tests :)</p>
<p>Any disagreements or improvements please pull request.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      <div class="icon"></div>
      
        <time datetime="2013-09-23T11:49:36.000Z" itemprop="datePublished">23rd Sep 2013</time>
      
      
  
    <h1 class="title" itemprop="name headline"><a href="/my-shiny-new-iphone-5s/" itemprop="url">My Shiny New iPhone 5s</a></h1>
  

    </header>
    <div class="entry" itemprop="articleBody">
      
        <p><img src="/img/iphone5s.png" alt="iLee iPhone 5s"></p>
<h2>Mobile app developer</h2>
<p>As an app developer, I&#39;m burdened with buying mobiles and tablets all the time and have <a href="/more-mobile-devices-than-socks/">more mobile devices than socks</a>. Having said that, I&#39;m actually planning to use my new iPhone for day-to-day usage too (i.e. actually making phone calls).</p>
<h2>Crazy queuing</h2>
<p><strong>I didn&#39;t queue</strong> for my new iPhone 5s, I also didn&#39;t <a href="http://news.sky.com/story/1144613/apple-iphone-fights-as-homeless-hired-to-queue" target="_blank">pay the homeless</a> to queue for me. I ordered in 60 seconds from the comfort of my home, on the o2 website and it arrived the next working day. Some people really need to get some common sense.</p>
<h2>Thoughts on day one</h2>
<h3>The good bits</h3>
<ul>
<li>Configuring from another iPhone backup was simple.</li>
<li>The Apple A7 chip is <em>fast</em>, I feel the performance increase doing anything on the device.</li>
<li>I&#39;m no photographer but the 8 megapixel camera with dual LED flash does live up to (some of) the hype. Burst mode is pretty cool too.</li>
<li>The Touch ID home button is a <em>nice touch</em>, even if it <a href="http://istouchidhackedyet.com/" target="_blank">may have been hacked</a> already. You wouldn&#39;t use an iPhone if you had security concerns though, right? :)</li>
<li>Free Apple apps. Sweet. Probably won&#39;t use them though.</li>
<li>Apparently I can <a href="http://www.independent.co.uk/life-style/gadgets-and-tech/news/newly-released-apple-iphone-5s-on-ebay-for-2000-8831594.html" target="_blank">sell it for up to £2K</a> right now on ebay.</li>
</ul>
<h3>The maybe-good bits</h3>
<ul>
<li>iBeacon, we‘ll see. Not surprised it’s not a standard of course.</li>
</ul>
<h3>The not-so-good bits</h3>
<ul>
<li>The screen, it&#39;s just OK. When can we have edge-to-edge displays?</li>
<li>Battery life, it‘s depleting at the same fast rate as I’m used too. I&#39;ve <a href="http://www.ebay.co.uk/itm/130897161738" target="_blank">bought this</a> to overcome this slightly.</li>
<li>A bit disappointed that there aren&#39;t many other innovative features.</li>
</ul>
<h2>Summary</h2>
<p>It&#39;s pretty shiny. I can make phone calls.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>



  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
  <div class="post-content">
    <header>
      <div class="icon"></div>
      
        <time datetime="2013-09-20T10:15:11.000Z" itemprop="datePublished">20th Sep 2013</time>
      
      
  
    <h1 class="title" itemprop="name headline"><a href="/ios7-navigation-bar-using-css/" itemprop="url">iOS7 Navigation Bar Using CSS</a></h1>
  

    </header>
    <div class="entry" itemprop="articleBody">
      
        <h2>iOS7 elements with HTML and CSS</h2>
<p>Since the early beta versions of iOS7, front-end developers have been replicating features of the new interface with HTML and CSS. There are <strong>many</strong> implementations of control center popup, but people don&#39;t seem to have implemented the <em>useful</em> elements.</p>
<h2>The UINavigationBar</h2>
<p>Almost every app has a navigation bar. As a Cordova / PhoneGap developer, I thought it would be interesting to see if I could come close to implementing the new iOS7 UINavigationBar style in HTML and CSS, since no one else had (after googling and searching sites such as codepen).</p>
<h2>My implementation</h2>
<p>The tricky part is obviously the transparency / blur / “frosting” effects, so here&#39;s how I set about it.</p>
<h3>The transparency</h3>
<p>Using background rgba for alpha transparency on the usual header element (absolute or fix positioned etc), I was able to show the content underneath. This works well but I couldn&#39;t find a way to add any sort of blur effect to this element without distorting the header content.</p>
<figure class="highlight lang-css"><figcaption><span>header styles </span></figcaption><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="code"><pre><span class="id">#header</span> <span class="rules">{
    <span class="rule"><span class="attribute">position</span>:<span class="value"> absolute;</span></span>
    <span class="rule"><span class="attribute">z-index</span>:<span class="value"> <span class="number">3</span>;</span></span>
    <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">0</span>;</span></span>
    <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">0</span>;</span></span>
    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100</span>%;</span></span>
    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">44</span>px;</span></span>
    <span class="rule"><span class="attribute">line-height</span>:<span class="value"> <span class="number">44</span>px;</span></span>
    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="function">rgba(<span class="number">59</span>,<span class="number">89</span>,<span class="number">152</span>,<span class="number">0.8</span>)</span>;</span></span>
    <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">0</span>;</span></span>
    <span class="rule"><span class="attribute">color</span>:<span class="value"> <span class="hexcolor">#eee</span>;</span></span>
    <span class="rule"><span class="attribute">font-size</span>:<span class="value"> <span class="number">20</span>px;</span></span>
    <span class="rule"><span class="attribute">text-align</span>:<span class="value"> center;</span></span>
<span class="rule">}</span></span>
</pre></td></tr></table></figure>


<h3>The blur / frosting</h3>
<p>I solved this by absolute positioning another element directly underneath the usual header element, with a lower z-index of the header but a higher z-index than the content underneath.</p>
<figure class="highlight lang-css"><figcaption><span>header-blur styles </span></figcaption><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="code"><pre><span class="class">.header-blur</span> <span class="rules">{
    <span class="rule"><span class="attribute">position</span>:<span class="value"> absolute;</span></span>
    <span class="rule"><span class="attribute">z-index</span>:<span class="value"> <span class="number">2</span>;</span></span>
    <span class="rule"><span class="attribute">-webkit-filter</span>:<span class="value"> <span class="function">blur(<span class="number">10</span>px)</span>;</span></span>
    <span class="rule"><span class="attribute">-moz-filter</span>:<span class="value"> <span class="function">blur(<span class="number">10</span>px)</span>;</span></span>
    <span class="rule"><span class="attribute">-ms-filter</span>:<span class="value"> <span class="function">blur(<span class="number">10</span>px)</span>;</span></span> 
    <span class="rule"><span class="attribute">-o-filter</span>:<span class="value"> <span class="function">blur(<span class="number">10</span>px)</span>;</span></span>
    <span class="rule"><span class="attribute">filter</span>:<span class="value"> <span class="function">blur(<span class="number">10</span>px)</span>;</span></span>
    <span class="rule"><span class="attribute">background</span>:<span class="value"> <span class="function">rgba(<span class="number">250</span>,<span class="number">250</span>,<span class="number">250</span>,<span class="number">0.9</span>)</span>;</span></span>
    <span class="rule"><span class="attribute">top</span>:<span class="value"> <span class="number">0</span>;</span></span>
    <span class="rule"><span class="attribute">left</span>:<span class="value"> <span class="number">0</span>;</span></span>
    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">100</span>%;</span></span>
    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">44</span>px;</span></span>
    <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">0</span>;</span></span>
<span class="rule">}</span></span>
</pre></td></tr></table></figure>


<p>After a bit of fiddling I managed to get the values right and get it working pretty well.</p>
<h3>iScroll</h3>
<p>I added <a href="https://github.com/cubiq/iscroll" target="_blank">iScroll</a> to the mix, as I usually use this when developing mobile apps. It required a little modification to the usual setup (around the top positioning and adding a padding instead) but showcases the iOS7 style navigation well.</p>
<h2>Demo</h2>
<p>You can see a working demo and all the associated code <a href="http://codepen.io/leecrossley/details/JEexG" target="_blank">here</a>, feel free to fork and make your own changes or improvements. I&#39;m also open to feedback as usual.</p>
<h2 id="update"><strong>UPDATE</strong></h2>

<p>It turns out that I must have been tipsy to see the blur effect in the code above. It wasn‘t actually applying the blur to elements underneath the header because they aren’t nested.</p>
<p>The only solution I could think up was to clone the body, convert this to a canvas and apply the blur to that. I then probe the scroll event to displace the blurred canvas at the correct y offset.</p>
<p>Sounds hacky, but it&#39;s not too bad (<em>other than hiding the header when cloning the body and forcing iScroll to show overflow until the canvas is generated, oh and pulling in additional 3rd party libraries and actually cloning the body in the first place…</em>). Not sure it‘s worth it, but I’ll do some performance testing.</p>
<p>The <a href="http://codepen.io/leecrossley/details/JEexG" target="_blank">example code</a> has been updated, feel free to fork.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>





<nav id="pagination">
  
  
    <a href="/page/2/" class="alignright next">Next</a>
  
  <div class="clearfix"></div>
</nav>
</div></div>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2013 Lee Crossley
  
</div>
<div class="clearfix"></div></footer>
  
<script type="text/javascript">
(function(){
  var dsq = document.createElement('script');
  dsq.type = 'text/javascript';
  dsq.async = true;
  dsq.src = '//ilee.disqus.com/count.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());
</script>


</body>
</html>