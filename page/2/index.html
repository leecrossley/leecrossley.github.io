<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Page 2 | iLee | developer blog</title>
  <meta name="author" content="Lee Crossley">
  <meta name="description" content="I write code that sounds awesome and music that&#39;s bug free">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta property="og:site_name" content="iLee"/>
  <meta property="og:image" content="http://www.gravatar.com/avatar/57e15d6acbd5f46c300a83b5e61db1de?s=200"/>
  <link rel="alternate" href="/atom.xml" title="iLee" type="application/atom+xml">
  <link rel="shortcut icon" href="/img/ilee.ico">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-42989646-1', 'ilee.co.uk');
    ga('send', 'pageview');
  </script>

</head>


<body>
  <div id="content" class="inner">
    <header class="logo alignleft">
      <h1>
        <a href="/">iLee</a>
        <span>I write code that sounds awesome and music that&#39;s bug free</span>
      </h1>
    </header>
    <div id="main-col" class="alignright"><div id="wrapper">
  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      <div class="icon"></div>
      
        <time datetime="2014-01-08T09:15:23.000Z" itemprop="datePublished">8th Jan 2014</time>
      
      
  
    <h1 class="title" itemprop="name headline"><a href="/ditch-the-www-subdomain/" itemprop="url">Ditch the www Subdomain</a></h1>
  

    </header>
    <div class="entry" itemprop="articleBody">
      
        <h2 id="It&#x2019;s_time">It&#x2019;s time</h2>
<p>We&#x2019;re in the year 2014, people know what the world wide web is (and have known for quite some time), yet may organisations still insist on using a www subdomain for their primary website instead of a pretty <em>subdomain-less</em> url.</p>
<h2 id="Keep_it_simple">Keep it simple</h2>
<p>I don&#x2019;t use, link to, or promote the url <code>www.ilee.co.uk</code> - I always use <code>ilee.co.uk</code>. It&#x2019;s prettier, simpler and still obviously a url.</p>
<h2 id="Use_a_permanent_(301)_redirect">Use a permanent (301) redirect</h2>
<p>I do redirect <code>www.ilee.co.uk</code> to <code>ilee.co.uk</code>, for completeness and SEO reasons. Serving the same content for each url could be considered duplicate content without a redirect. GitHub pages automatically handles this and it&#x2019;s GitHub&#x2019;s preferred format (you&#x2019;ll never see <code>www.github.com</code>, it&#x2019;s always <code>github.com</code>).</p>
<h3 id="Expressjs">Expressjs</h3>
<p>To my horror I realised yesterday that <code>www.plugreg.com</code>, didn&#x2019;t redirect to <code>plugreg.com</code>. plugreg is written in node.js and uses the expressjs framework, so I wrote a handy little function to handle the www redirect scenario:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
11
</pre></td><td class="code"><pre><span class="keyword">var</span> redirect = <span class="function"><span class="keyword">function</span> <span class="params">(req, res, next)</span> {</span>
    <span class="keyword">var</span> baseUrl = req.protocol + <span class="string">&quot;://&quot;</span> + req.host,
        wwwUrl = req.protocol + <span class="string">&quot;://www.&quot;</span>;
    <span class="keyword">if</span> (baseUrl.substring(<span class="number">0</span>, wwwUrl.length) === wwwUrl) {
        res.redirect(<span class="number">301</span>, baseUrl.replace(<span class="string">&quot;://www.&quot;</span>, <span class="string">&quot;://&quot;</span>) + req.url);
    } <span class="keyword">else</span> {
        next();
    }
};

app.all(<span class="string">&quot;*&quot;</span>, redirect);
</pre></td></tr></table></figure>

<h2 id="Configure_webmaster_tools">Configure webmaster tools</h2>
<p>Under &#x201C;site settings&#x201D; of <a href="https://www.google.com/webmasters/tools/" target="_blank" rel="external">Google Webmaster Tools</a>, you also have the option to set your <em>preferred domain</em>:</p>
<ul>
<li>Don&#x2019;t set a preferred domain</li>
<li>Display URLs as www.ilee.co.uk</li>
<li>Display URLs as ilee.co.uk</li>
</ul>
<p><strong>Here&#x2019;s to a www-less 2014</strong>.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      <div class="icon"></div>
      
        <time datetime="2014-01-03T08:25:40.000Z" itemprop="datePublished">3rd Jan 2014</time>
      
      
  
    <h1 class="title" itemprop="name headline"><a href="/mobile-ux-to-impact-seo/" itemprop="url">Mobile UX to Impact SEO</a></h1>
  

    </header>
    <div class="entry" itemprop="articleBody">
      
        <h2 id="Optimise_for_mobile">Optimise for mobile</h2>
<p>With huge numbers of internet users using mobiles and tablet devices to browse the web, it&#x2019;s more important than ever to optimise your website for these devices.</p>
<h3 id="Creating_a_mobile_website_is_not_enough">Creating a mobile website is not enough</h3>
<p>If you truly want to engage users on mobile devices, you&#x2019;ve got to consider <em>their experience</em>, not just how the website looks. Touch interfaces, varying resolutions / density and gestures are among just a few of the challenges technology advancements have brought.</p>
<h2 id="What_exactly_is_UX?">What exactly is <em>UX</em>?</h2>
<p>UX stands for <strong>U</strong>ser e<strong>X</strong>perience, which is the comprehensive experience of a user interacting with a product (in this case a website and more specifically, a website on mobile devices). It encompasses factors such as ease-of-use and user gratification.</p>
<h3 id="UX_is_hard">UX is hard</h3>
<p>There&#x2019;s no completely right answer but there are <em>better answers</em>. Google are starting to analyse the mobile user experience of websites using some set tangible metrics, so this is a good quantifiable place to start.</p>
<h2 id="Why_UX?">Why UX?</h2>
<p>It&#x2019;s all about the users and they are ultimately going to result in conversions (if that&#x2019;s your aim) usually through improved productivity or satisfaction though a good user experience. Although Google looks to start weighting search results based on their perceived automated user experience, the focus should still be primarily on real users. After all, web traffic on its own means nothing.</p>
<h2 id="PageSpeed_insights">PageSpeed insights</h2>
<p>The <a href="https://developers.google.com/speed/pagespeed/insights" target="_blank" rel="external">PageSpeed Insights</a> tool is now reporting mobile user experience, in addition to page speed. This is a great place to start to give you instant feedback on some tangible metrics. The tool currently analyses:</p>
<ul>
<li>Use of plugins</li>
<li>Viewport metatag and content size within the viewport</li>
<li>Size of touch/tap &#x201C;clickable&#x201D; interactions</li>
<li>Font sizes</li>
</ul>
<p>The website provides more info on these. This blog passed all of the user experience first time, except for the sizing of anchor tags. To fix this, I added the following css to my article (content) section: </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
</pre></td><td class="code"><pre><span class="at_rule">@<span class="keyword">media</span> screen and (max-width: <span class="number">600</span>px) </span>{
  <span class="tag">article</span> <span class="tag">a</span> <span class="rules">{
    <span class="rule"><span class="attribute">display</span>:<span class="value"> inline-block</span></span>;
    <span class="rule"><span class="attribute">padding</span>:<span class="value"> <span class="number">3</span>px <span class="number">7</span>px</span></span>;
    <span class="rule"><span class="attribute">background-color</span>:<span class="value"> <span class="hexcolor">#ecf0f1</span></span></span>;
    <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">5</span>px <span class="number">0</span>px</span></span>;
  <span class="rule">}</span></span>
}
</pre></td></tr></table></figure>

<h2 id="That&#x2019;s_not_the_end">That&#x2019;s not the end</h2>
<p>The PageSpeed Insights are a great place to start for existing mobile websites, but it&#x2019;s not the end of the road, there are many other considerations (every UX designer and every website will have their own particulars). Consider <a href="http://en.wikipedia.org/wiki/A/B_testing" target="_blank" rel="external">split A/B testing</a> and responding to user feedback too.</p>
<p>If you have the luxury of a starting your mobile website from scratch or a rewrite, consider user experience right from the outset and get users involved in the process as early as possible.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      <div class="icon"></div>
      
        <time datetime="2014-01-02T09:41:26.000Z" itemprop="datePublished">2nd Jan 2014</time>
      
      
  
    <h1 class="title" itemprop="name headline"><a href="/learn-nodejs-in-2014/" itemprop="url">Learn nodejs in 2014</a></h1>
  

    </header>
    <div class="entry" itemprop="articleBody">
      
        <h2 id="The_year_of_the_node">The year of the node</h2>
<p>If you haven&#x2019;t already (shame on you), it really is time to sit down and have a play with <a href="http://nodejs.org/" target="_blank" rel="external">node.js</a>. So that you have absolutely no excuses, I&#x2019;ve put together a super quick start guide to kick you off.</p>
<p>Nodejs was first released back in May 2009 but has gathered huge momentum over the past year or so.</p>
<h2 id="Super_quick_start">Super quick start</h2>
<h3 id="Install">Install</h3>
<p><a href="http://nodejs.org/download/" target="_blank" rel="external">Download</a> the installer for your OS and install.</p>
<h3 id="Create">Create</h3>
<p>Create a new directory for your app (optional) and a blank <code>app.js</code> JavaScript file.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre>$ mkdir nodeapp
$ <span class="built_in">cd</span> nodeapp
$ touch app.js
</pre></td></tr></table></figure>

<h3 id="Code">Code</h3>
<p>In your newly created JavaScript file, add the following code:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
</pre></td><td class="code"><pre><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">&quot;http&quot;</span>);

http.createServer(<span class="function"><span class="keyword">function</span><span class="params">(req, res)</span> {</span>
    res.writeHead(<span class="number">200</span>, {<span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;text/html&quot;</span>});
    res.end(<span class="string">&quot;I know node.js!&quot;</span>);
}).listen(<span class="number">4000</span>);
</pre></td></tr></table></figure>

<h3 id="Run">Run</h3>
<p>Ensure you&#x2019;re in the directory of your <code>app.js</code> JavaScript file and run:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>$ node app
</pre></td></tr></table></figure>

<p>Now visit <code>http://localhost:4000/</code> to see your newly created node.js http server in action!</p>
<h2 id="Packages">Packages</h2>
<p>You&#x2019;ll notice in the example above that we&#x2019;re using <code>http</code>, which is part of the node core. There are over 50,000 3rd party packages available on the <a href="https://npmjs.org/" target="_blank" rel="external">node package manager registry</a>, that should keep you busy for the rest of the year :)</p>
<p>Happy new year!</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      <div class="icon"></div>
      
        <time datetime="2013-12-20T07:37:13.000Z" itemprop="datePublished">20th Dec 2013</time>
      
      
  
    <h1 class="title" itemprop="name headline"><a href="/using-npm-in-europe/" itemprop="url">Using npm in Europe</a></h1>
  

    </header>
    <div class="entry" itemprop="articleBody">
      
        <h2 id="Protip">Protip</h2>
<p>I wrote a short <a href="https://coderwall.com/p/iihlxa" target="_blank" rel="external">protip</a> this morning about the European mirror for npm. Developers in Europe (such as myself, based in Manchester, UK), will find this Germany based mirror significantly faster and possibly more reliable.</p>
<p>You can force the use of the European mirror by simply appending the <code>--registry http://registry.npmjs.eu</code> flag to the end of your command, however, I recommend you just set up an alias, e.g:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>$ alias enpm=<span class="string">&quot;npm --registry http://registry.npmjs.eu&quot;</span>
</pre></td></tr></table></figure>

<h2 id="How_much_faster?">How much faster?</h2>
<p>Rather than just claim <em>it is faster</em>, I want to take this blog post further and prove that it&#x2019;s faster.</p>
<h3 id="Quick_test">Quick test</h3>
<p>Let&#x2019;s pick a package with a few dependencies, <code>grunt</code>.</p>
<p>First, let&#x2019;s run <code>npm cache clean</code> to remove any data in the npm cache folder. Without supplying a path, this clears the entire cache. A quick run of <code>npm cache ls</code> confirms this.</p>
<h3 id="Timing">Timing</h3>
<p>How do we actually go about timing an <code>npm install</code>? Well, there&#x2019;s a basic command called <code>time</code> that&#x2019;s built into most shells and allows us to easily see the execution time of a command (both &#x201C;real time&#x201D; used and system time). This is accurate enough for what we need.</p>
<p>Let&#x2019;s give it a go:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>$ time npm install grunt
<span class="comment"># =4.71s user 1.69s system 29% cpu 21.573 total</span>
</pre></td></tr></table></figure>

<p>Now let&#x2019;s clear the cache again and try the European mirror:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>$ time npm install grunt --registry http://registry.npmjs.eu
<span class="comment"># =3.75s user 1.48s system 44% cpu 11.799 total</span>
</pre></td></tr></table></figure>

<p>21.573s vs 11.799s means it&#x2019;s almost <em>twice as fast</em> for me to use the European mirror of the npm registry.</p>
<p>Damn, now I don&#x2019;t have long enough to make a coffee.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      <div class="icon"></div>
      
        <time datetime="2013-12-18T13:18:02.000Z" itemprop="datePublished">18th Dec 2013</time>
      
      
  
    <h1 class="title" itemprop="name headline"><a href="/list-node-packages-wo-dependencies/" itemprop="url">List Node Packages w/o Dependencies</a></h1>
  

    </header>
    <div class="entry" itemprop="articleBody">
      
        <h2 id="npm_list">npm list</h2>
<p><code>npm list</code> (or <code>npm ls</code> which is my preferred shorthand) is a useful way to determine what npm packages are currently installed. The issue is, you get all their dependencies too (and their dependencies dependencies and their dependencies dependencies dependencies&#x2026;). A bit frustrating, since this list is usually exceptionally long and no amount of nesting formatting can fully combat this.</p>
<h3 id="Added_depth">Added depth</h3>
<p>Turns out there&#x2019;s an easy way to combat this, although it&#x2019;s not in the <a href="https://npmjs.org/doc/cli/npm-ls.html" target="_blank" rel="external">documentation for npm ls</a>.</p>
<p>By adding <code>--depth=0</code> to the end of the command, it only draws out the top of the dependency tree. Happy days:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>$ npm ls --depth=<span class="number">0</span>
</pre></td></tr></table></figure>

<h3 id="Go_global">Go global</h3>
<p>This even works for globally installed packages too, by adding the standard <code>-g</code> flag.</p>
<h2 id="I&#x2019;m_getting_errors!">I&#x2019;m getting errors!</h2>
<p>When I first tried this, I ended up with a bunch of nonsensical errors (e.g. &#x201C;npm ERR! max depth reached&#x201D; among others), although there was nothing really wrong.</p>
<p>You can combat this by adding <code>&quot;$@&quot; 2&gt;/dev/null</code> to the end. This essentially ignores the pointless errors by redirecting them to /dev/null. <em>Nothing to see here, move along</em> :)</p>
<h2 id="The_complete_command">The complete command</h2>
<figure class="highlight bash"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>$ npm ls --depth=<span class="number">0</span> <span class="string">&quot;<span class="variable">$@</span>&quot;</span> <span class="number">2</span>&gt;/dev/null
</pre></td></tr></table></figure>

<p>If you don&#x2019;t want to type this out all the time (I certainly don&#x2019;t), you can alias it up:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>$ alias npmls=<span class="string">&quot;npm ls --depth=0 &quot;</span><span class="variable">$@</span><span class="string">&quot; 2&gt;/dev/null&quot;</span>
</pre></td></tr></table></figure>

<p>Then usage is as simple as:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>$ npmls
</pre></td></tr></table></figure>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      <div class="icon"></div>
      
        <time datetime="2013-12-16T07:11:57.000Z" itemprop="datePublished">16th Dec 2013</time>
      
      
  
    <h1 class="title" itemprop="name headline"><a href="/native-page-transitions-with-phonegap/" itemprop="url">Native Page Transitions with PhoneGap</a></h1>
  

    </header>
    <div class="entry" itemprop="articleBody">
      
        <p>I was too busy to write any blog posts last week, but this more than makes up for it&#x2026;</p>
<h2 id="Stop_the_press!">Stop the press!</h2>
<p>Having spent copious amounts of time emulating native iOS page transitions with JavaScript, HTML5 and CSS3 in the past, everything is about to change.</p>
<p>My new Cordova / PhoneGap plugin allows you to use the real native iOS transitions without ever leaving your web view!</p>
<p><strong>I&#x2019;ve turned page transitions around</strong> (poor pun, I know).</p>
<p><img src="/img/transition.png" alt="Page transition"></p>
<h2 id="Video_demo">Video demo</h2>
<p>This is so good, for the first time on my blog, it demands a <a href="https://vimeo.com/81980283" target="_blank" rel="external">video demo</a>. Yes, that really is a Cordova web view with a single HTML page.</p>
<h2 id="Down_to_business">Down to business</h2>
<p>If you&#x2019;re a Cordova / PhoneGap developer, I&#x2019;m sure you&#x2019;re already desperate to get started, so I&#x2019;ll cut to the chase.</p>
<h3 id="Install">Install</h3>
<p>The source code is available on <a href="https://github.com/leecrossley/cordova-plugin-native-transitions" target="_blank" rel="external">Github</a>.</p>
<p>Assuming you&#x2019;re using Cordova 3.x and the CLI, installation is as simple as using the <code>cordova plugin add</code> command:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>cordova plugin add https://github.com/leecrossley/cordova-plugin-native-transitions.git
</pre></td></tr></table></figure>

<p>You <strong>do not</strong> need to reference any JavaScript, the Cordova plugin architecture will add a <code>nativetransitions</code> object to your root automatically when you build.</p>
<h2 id="Transitions">Transitions</h2>
<h3 id="Flip">Flip</h3>
<p>Flip page transition, with support for flipping left or right:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre><span class="keyword">var</span> duration = <span class="number">0.5</span>, <span class="comment">// animation time in seconds</span>
    direction = <span class="string">&quot;right&quot;</span>; <span class="comment">// animation direction - left || right</span>
nativetransitions.flip(duration, direction, onComplete);
</pre></td></tr></table></figure>

<h3 id="Curl">Curl</h3>
<p>Curl page transition, with support for flipping curling up or down:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre>1
2
3
</pre></td><td class="code"><pre><span class="keyword">var</span> duration = <span class="number">0.5</span>, <span class="comment">// animation time in seconds</span>
    direction = <span class="string">&quot;down&quot;</span>; <span class="comment">// animation direction - up || down</span>
nativetransitions.curl(duration, direction, onComplete);
</pre></td></tr></table></figure>

<h3 id="Fade">Fade</h3>
<p>A simple fade page transition:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre><span class="keyword">var</span> duration = <span class="number">0.5</span>; <span class="comment">// animation time in seconds</span>
nativetransitions.fade(duration, onComplete);
</pre></td></tr></table></figure>

<h2 id="Example">Example</h2>
<p>Here&#x2019;s an example of how I suggest you use the plugin in your code, so that you get a realistic transition:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre>1
2
3
4
</pre></td><td class="code"><pre>setTimeout(<span class="function"><span class="keyword">function</span><span class="params">()</span> {</span>
    <span class="comment">// Change your html here</span>
}, <span class="number">50</span>);
nativetransitions.flip(duration, direction);
</pre></td></tr></table></figure>

<h2 id="More_transitions?">More transitions?</h2>
<p>If you&#x2019;d like to add more transitions (possibly custom transitions of your own) please pull request. If you&#x2019;d like something in particular, let me know and I&#x2019;ll see if I can implement it for you.</p>
<p><strong>This is pretty flippin&#x2019; amazing stuff</strong> (OK, I&#x2019;ll stop now).</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      <div class="icon"></div>
      
        <time datetime="2013-12-06T10:05:49.000Z" itemprop="datePublished">6th Dec 2013</time>
      
      
  
    <h1 class="title" itemprop="name headline"><a href="/looping-audio-with-phonegap/" itemprop="url">Looping Audio with PhoneGap</a></h1>
  

    </header>
    <div class="entry" itemprop="articleBody">
      
        <h2 id="Playing_media_on_repeat">Playing media on repeat</h2>
<p>Playing media is easy with Phonegap / Cordova using the core <a href="http://www.plugreg.com/plugin/apache/cordova-plugin-media" target="_blank" rel="external">media plugin</a>. I&#x2019;m using it in the game I&#x2019;m writing.</p>
<p>The issue is, I wanted to be able to play a background music loop on repeat (don&#x2019;t worry, the user can switch this off in my apps settings, or simply <a href="/phonegap-plays-sound-on-mute/">mute the sound</a>).</p>
<h3 id="iOS">iOS</h3>
<p>There&#x2019;s an &#x201C;iOS Quirk&#x201D; that makes this really easy for iOS devices. From the documentation:</p>
<blockquote>&#x201C;<strong>numberOfLoops</strong>: Pass this option to the play method to specify the number of times you want the media file to play&#x201D;</blockquote>

<figure class="highlight js"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre><span class="keyword">var</span> myMedia = <span class="keyword">new</span> Media(<span class="string">&quot;/audio/my.mp3&quot;</span>);
myMedia.play({ numberOfLoops: <span class="number">2</span> });
</pre></td></tr></table></figure>

<p>It&#x2019;s a bit frustrating that you can&#x2019;t do <code>numberOfLoops: -1</code> to repeat indefinitely, but I can live with it. The issue is, you can&#x2019;t do this on Android.</p>
<h3 id="Android">Android</h3>
<p>Here&#x2019;s my work around (that I also for iOS too to keep the JavaScript consistent). It&#x2019;s really frustrating because this could easily be built into the plugin&#x2019;s native component.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre>1
2
3
4
5
6
7
8
9
10
</pre></td><td class="code"><pre><span class="keyword">var</span> myMedia;

<span class="keyword">var</span> loop = <span class="function"><span class="keyword">function</span> <span class="params">(status)</span> {</span>
    <span class="keyword">if</span> (status === Media.MEDIA_STOPPED) {
        myMedia.play();
    }
};

myMedia = <span class="keyword">new</span> Media(<span class="string">&quot;/audio/my.mp3&quot;</span>, <span class="literal">null</span>, <span class="literal">null</span>, loop);
myMedia.play();
</pre></td></tr></table></figure>

<p>I&#x2019;m using the <code>mediaStatus</code> callback that executes when the media status changes, to check to see if the media has stopped playing (it&#x2019;s finished) and to play the media again.</p>
<p>Can we have a <code>repeat: true</code> please?</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      <div class="icon"></div>
      
        <time datetime="2013-12-03T08:44:40.000Z" itemprop="datePublished">3rd Dec 2013</time>
      
      
  
    <h1 class="title" itemprop="name headline"><a href="/pause-between-grunt-tasks/" itemprop="url">Pause between Grunt Tasks</a></h1>
  

    </header>
    <div class="entry" itemprop="articleBody">
      
        <h2 id="Pause_for_debugging">Pause for debugging</h2>
<p>I <a href="/let-grunt-handle-your-tasks/">blogged a while ago</a> about the Grunt JavaScript task runner, a great way to automate your JavaScript tasks.</p>
<p>On complex projects, with numerous multitasks that display output, it occurred to me that you might want to be able to pause the task runner after each task. You may perhaps need to assess the output or check something, then decide whether or not to continue running the remaining tasks.</p>
<h2 id="grunt-pause">grunt-pause</h2>
<p>I&#x2019;ve implemented a Grunt plugin (in a slightly unorthodox manner) to facilitate the pausing, &#x201C;<a href="https://npmjs.org/package/grunt-pause" target="_blank" rel="external">grunt-pause.js</a>&#x201C;. It uses the hooker to watch for task changes, then fires off a dynamically added task after each change. The <a href="https://npmjs.org/package/inquirer" target="_blank" rel="external">inquirer</a> node package then kicks in to prompt the developer to either continue (default), or clear the task queue and end the task runner.</p>
<h2 id="Grunt_core">Grunt core</h2>
<p>Personally, I think this should be part of the Grunt core. It would be much easier to implement (not hooky hacky), and could be enabled simply with a &#x201C;&#x2014;pause&#x201D; argument on the command line.</p>
<p>If this package gets used, I&#x2019;ll consider a pull request to Grunt core for version 0.5.0. This package will still be useful for version 0.4.x etc.</p>
<h2 id="Usage">Usage</h2>
<figure class="highlight shell"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre>npm <span class="keyword">install</span> grunt-pause <span class="comment">## --save-dev</span>
</pre></td></tr></table></figure>

<p>Add the grunt-pause reference to the very top of your Gruntfile.js:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
</pre></td><td class="code"><pre><span class="keyword">var</span> pause = <span class="built_in">require</span>(<span class="string">&quot;grunt-pause&quot;</span>);
</pre></td></tr></table></figure>

<p>Add the pause init call at the top of the module.exports function of your Gruntfile.js::</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre>1
2
</pre></td><td class="code"><pre>module.exports = <span class="function"><span class="keyword">function</span> <span class="params">(grunt)</span> {</span>
    pause.init(grunt);
</pre></td></tr></table></figure>

<h2 id="Sample_output">Sample output</h2>
<p>Sample screenshot of the console output:</p>
<p><img src="https://raw.github.com/leecrossley/grunt-pause/master/grunt-pause.png" alt="Console Screenshot">.</p>
<h2 id="Improvements?">Improvements?</h2>
<p>You might not want to have the pause between all tasks, perhaps we could pass an array of exclusions or inclusions when we call <code>pause.init(grunt)</code>?</p>
<p>As always, issues and pull request on the <a href="https://github.com/leecrossley/grunt-pause" target="_blank" rel="external">git repo</a>.</p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      <div class="icon"></div>
      
        <time datetime="2013-12-02T11:24:44.000Z" itemprop="datePublished">2nd Dec 2013</time>
      
      
  
    <h1 class="title" itemprop="name headline"><a href="/plugreg-v07-is-now-live/" itemprop="url">PlugReg v0.7 Is Now Live</a></h1>
  

    </header>
    <div class="entry" itemprop="articleBody">
      
        <h2 id="What&#x2019;s_new">What&#x2019;s new</h2>
<p>It&#x2019;s now even easier to find Cordova / PhoneGap plugins on <a href="http://www.plugreg.com" target="_blank" rel="external">plugreg</a>. To keep up to date with the latest plugreg and plugin related information follow <a href="https://twitter.com/plugreg" target="_blank" rel="external">@plugreg on twitter</a>.</p>
<h3 id="Features">Features</h3>
<p>Here are some of the new features that have been implemented for v0.7:</p>
<ul>
<li><strong>Plugin details</strong>. New design and more info has been added:<ul>
<li>Version number</li>
<li>Last modified</li>
<li>Stars</li>
<li>Issues</li>
</ul>
</li>
<li><strong>Avatars</strong>. Now hotlinks to gravatar or github identicons</li>
<li><strong>Homepage</strong>. A new homepage design, giving various stats, such as:<ul>
<li>Total number of plugins</li>
<li>Total number of authors</li>
<li>Recently Added Plugins (and when they were added)</li>
<li>Recently Updated Plugins (and when they were updated)</li>
<li>Authors with the Most Plugins (and how many plugins each)</li>
<li>Authors with the Most Stars (combined from all their plugins)</li>
<li>Plugins with the Most Stars (and how many stars)</li>
<li>Plugins with the Most Issues (and how many issues)</li>
</ul>
</li>
<li><strong>Search</strong>. Search is now weighted based on plugin stars</li>
<li><strong>Plugin list</strong>. Now contains the number of plugin stars</li>
</ul>
<h3 id="Refresh">Refresh</h3>
<p>All plugin details are now updated/refreshed every 30 minutes (this includes issues / stars etc).</p>
<h3 id="API">API</h3>
<p>A basic API is now available listing details of all the indexed plugins - get in touch for more details if you&#x2019;d like to use it.</p>
<h3 id="Bugs">Bugs</h3>
<p>There are also many, many bug fixes.</p>
<h2 id="Future_updates">Future updates</h2>
<p>Further updates are on the way shortly. If you&#x2019;d like to suggest an improvement or report an issue, you can do so on Twitter <a href="https://twitter.com/plugreg" target="_blank" rel="external">@plugreg</a></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>




  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
    <div class="gallery">
  <div class="photoset">
    
      <img src="">
    
  </div>
  <div class="control">
    <div class="prev"></div>
    <div class="next"></div>
  </div>
</div>
  
  <div class="post-content">
    <header>
      <div class="icon"></div>
      
        <time datetime="2013-11-28T09:57:53.000Z" itemprop="datePublished">28th Nov 2013</time>
      
      
  
    <h1 class="title" itemprop="name headline"><a href="/npm-cardiac-arrest/" itemprop="url">npm Cardiac Arrest</a></h1>
  

    </header>
    <div class="entry" itemprop="articleBody">
      
        <h2 id="It&#x2019;s_happening_again">It&#x2019;s happening again</h2>
<h3 id="Beep,_beep,_beeeeeeep">Beep, beep, beeeeeeep</h3>
<p>The node package manager &#x201C;<a href="https://npmjs.org/" target="_blank" rel="external">npm</a>&#x201C; is once again grinding to a halt. A <a href="http://blog.nodejs.org/2013/11/26/npm-post-mortem/" target="_blank" rel="external">post-mortem</a> was published on the official nodejs blog after the recent downtime (November 4th / November 15th 2013), but it&#x2019;s problems are far from resolved (as demonstrated today).</p>
<p><img src="/img/npm-beat.png" alt="npm Cardiac Arrest"></p>
<h2 id="Keep_it_beating,_keep_it_awesome">Keep it beating, keep it awesome</h2>
<p>With no other alternative, npm is fundamental to node. More infrastructure is needed to continue to operate the npm registry (multi-master approach and <strong>throw hardware and people at it</strong>).</p>
<p>In my personal opinion (and I know others echo this sentiment) there also needs to be a change to the way npm handles its dependencies. When currently installing a package, half of the registry is downloaded with it. There are ideas, such as materialising a vector of [package, version] -&gt; hash, but this is exceptionally tricky.</p>
<p>The npm registry has served over 150 million requests and 33 million package downloads in the last week. This is 10 times as many requests and downloads as this time last year, with all signs pointing to further exponential growth.</p>
<h2 id="Donate">Donate</h2>
<p><strong>I&#x2019;ve donated</strong> and I also continue to host my personal node projects on nodejitsu. If you&#x2019;re a developer that&#x2019;s ever used npm, <a href="https://scalenpm.org/" target="_blank" rel="external">donate now on the official site</a> and keep npm everything it needs to be for the community.</p>
<p><img src="/img/npm-thanks.png" alt="Thanks"></p>

      
    </div>
    <footer>
      
        
        
      
      <div class="clearfix"></div>
    </footer>
  </div>
</article>






<nav id="pagination">
  
    <a href="/" class="alignleft prev">Prev</a>
  
  
    <a href="/page/3/" class="alignright next">Next</a>
  
  <div class="clearfix"></div>
</nav>
</div></div>
    <div id="sidebar" class="alignleft"><ul class="social">
  <li class="facebook">
    <a href="https://www.facebook.com/lee.crossley" target="_blank" class="icon"><i class="icon-facebook"></i></a>
  </li>
  <li class="twitter">
    <a href="https://twitter.com/lee_crossley" target="_blank" class="icon"><i class="icon-twitter"></i></a>
  </li>
  <li class="github">
    <a href="https://github.com/leecrossley" target="_blank" class="icon"><i class="icon-github"></i></a>
  </li>
  <li class="google-plus">
    <a href="https://plus.google.com/+LeeCrossley?rel=author" target="_blank" class="icon"><i class="icon-google-plus"></i></a>
  </li>
  <li class="linkedin">
    <a href="http://uk.linkedin.com/in/leecrossley/" target="_blank" class="icon"><i class="icon-linkedin"></i></a>
  </li>
</ul>


  <div class="hire-button">
  <a href="/contact-me"><span>Hire Me</span></a>
</div>

  <div class="widget tag">
<ul class="entry">
  
    <li><a href="/">Home</a></li>
  
    <li><a href="/about-me">About Me</a></li>
  
    <li><a href="/contact-me">Contact Me</a></li>
  
    <li><a href="/archives">Archives</a></li>
  
</ul>
</div>

  
<div class="widget tag">
  <h3 class="title">Recent Posts</h3>
  <ul class="entry">
    
      <li>
        <a href="/touch-id-with-cordova-phonegap/">Touch ID with Cordova / PhoneGap</a>
      </li>
    
      <li>
        <a href="/adds-addition-puzzle-game/">Adds - Addition Puzzle Game</a>
      </li>
    
      <li>
        <a href="/css-translate3d-performance-hack/">CSS translate3d Performance Hack</a>
      </li>
    
      <li>
        <a href="/dotject-atom-text-editor-plugin/">dotject Atom Text Editor Plugin</a>
      </li>
    
      <li>
        <a href="/dotject-quick-js-object-composition/">dotject - Quick JS Object Composition</a>
      </li>
    
      <li>
        <a href="/json5-is-pointless-and-unimaginative/">JSON5 Is Pointless and Unimaginative</a>
      </li>
    
      <li>
        <a href="/sat-nav-map-directions-for-phonegap/">Sat Nav Map Directions for PhoneGap</a>
      </li>
    
      <li>
        <a href="/are-you-a-dot-guru/">Are You a Dot Guru?</a>
      </li>
    
      <li>
        <a href="/debugging-wp8-in-phonegap/">Debugging WP8 in PhoneGap</a>
      </li>
    
      <li>
        <a href="/new-features-in-grunt-timer-v03/">New Features in grunt-timer v0.3</a>
      </li>
    
  </ul>
</div>


  

  
<div class="widget tag">
  <h3 class="title">Tags</h3>
  <ul class="entry">
  
    <li><a href="/tags/android/">android</a><small>8</small></li>
  
    <li><a href="/tags/app/">app</a><small>11</small></li>
  
    <li><a href="/tags/design/">design</a><small>2</small></li>
  
    <li><a href="/tags/git/">git</a><small>1</small></li>
  
    <li><a href="/tags/hack/">hack</a><small>4</small></li>
  
    <li><a href="/tags/html/">html</a><small>9</small></li>
  
    <li><a href="/tags/iphone/">iphone</a><small>20</small></li>
  
    <li><a href="/tags/javascript/">javascript</a><small>46</small></li>
  
    <li><a href="/tags/phonegap/">phonegap</a><small>18</small></li>
  
    <li><a href="/tags/web/">web</a><small>27</small></li>
  
    <li><a href="/tags/wp8/">wp8</a><small>2</small></li>
  
  </ul>
</div>

</div>
    <div class="clearfix"></div>
  </div>
  <footer id="footer" class="inner"><div class="alignleft">
  
  &copy; 2014 Lee Crossley
  
</div>
<div class="clearfix"></div></footer>
  
<script type="text/javascript">
(function(){
  var dsq = document.createElement("script");
  dsq.type = "text/javascript";
  dsq.async = true;
  dsq.src = "//ilee.disqus.com/count.js";
  (document.getElementsByTagName("head")[0] || document.getElementsByTagName("body")[0]).appendChild(dsq);
}());
</script>


</body>
</html>